{"version":3,"sources":["App.js","index.js"],"names":["App","props","useState","hasError","errorMessage","error","setError","photos","setPhotos","hasPreview","previewUrl","preview","setPreview","useEffect","console","log","className","length","map","photo","index","src","alt","key","onClick","photoToPreview","showPreview","onCameraStart","isFullscreen","onCameraError","cameraError","handleError","onTakePhoto","dataUri","handleTakePhoto","sizeFactor","idealFacingMode","FACING_MODES","ENVIRONMENT","isImageMirror","ReactDOM","render","document","getElementById"],"mappings":"gOAmHeA,MA7Gf,SAAcC,GAEZ,IAFmB,EAYOC,mBAVL,CACnBC,UAAU,EACVC,aAAc,KAJG,mBAYZC,EAZY,KAYLC,EAZK,OAaSJ,mBAAS,IAblB,mBAaZK,EAbY,KAaJC,EAbI,OAcWN,mBAPP,CACrBO,YAAY,EACZC,WAAY,KATK,mBAcZC,EAdY,KAcHC,EAdG,KA6DnB,OA7CAC,qBAAU,WACRC,QAAQC,IAAIV,KACX,CAACA,IAEJQ,qBAAU,WACRC,QAAQC,IAAIR,KACX,CAACA,IAEJM,qBAAU,WACRC,QAAQC,IAAIJ,KACX,CAACA,IAoCF,yBAAKK,UAAU,OACZT,EAAOU,OAAS,GACf,yBAAKD,UAAU,WACZT,EAAOW,KAAI,SAACC,EAAOC,GAAR,OACV,yBACEC,IAAKF,EACLG,IAAI,oBACJC,IAAKH,EACLI,QAAS,kBAzBEC,EAyBkBN,OAxBvCP,EAAW,eACND,EADK,CAERe,aAAa,EACbhB,WAAYe,KAJM,IAACA,SA8BlBd,EAAQe,aACP,yBAAKV,UAAU,gBACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,cAAcQ,QAAS,WAxB9CZ,EAAW,eACND,EADK,CAERe,aAAcf,EAAQe,YACtBhB,WAAY,QAsBJ,0BAAMM,UAAU,eAChB,0BAAMA,UAAU,gBAGlB,yBACEK,IAAKV,EAAQD,WACbY,IAAI,wBAKZ,kBAAC,IAAD,CACEK,cAAeb,QAAQC,IAAI,6BAE3Ba,cAAc,EACdC,cAAe,SAACC,IAzDF,SAACA,GACnBhB,QAAQC,IAAIe,IACXzB,EAAMF,UAAYG,EAAS,CAC1BH,UAAU,EACVC,aAAc,mFAqDqB2B,CAAYD,IAC7CE,YAAa,SAACC,IAnEI,SAACA,GACvBnB,QAAQC,IAAI,eACZD,QAAQC,IAAIkB,GACZzB,EAAU,GAAD,mBACJD,GADI,CAEP0B,KA8D6BC,CAAgBD,IAC3CE,WAAY,EACZC,gBAAmBC,eAAaC,YAChCC,eAAiB,IAElBlC,EAAMF,UACL,yBAAKa,UAAU,eACb,8BAAOX,EAAMD,iBCxGvBoC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.e9e7a7e9.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\n\nimport \"./App.scss\";\n \nfunction App (props) {\n\n  const initialError = {\n    hasError: false,\n    errorMessage: \"\"\n  }\n\n  const initialPreview = {\n    hasPreview: false,\n    previewUrl: \"\"\n  }\n\n  const [error, setError] = useState(initialError);\n  const [photos, setPhotos] = useState([]);\n  const [preview, setPreview] = useState(initialPreview);\n\n  useEffect(() => {\n    console.log(error);\n  }, [error])\n\n  useEffect(() => {\n    console.log(photos)\n  }, [photos])\n\n  useEffect(() => {\n    console.log(preview)\n  }, [preview])\n  \n  const handleTakePhoto = (dataUri) => {\n    console.log('Foto tirada');\n    console.log(dataUri);\n    setPhotos([\n      ...photos,\n      dataUri\n    ]);\n  }\n\n  const handleError = (cameraError) => {\n    console.log(cameraError);\n    !error.hasError && setError({\n      hasError: true,\n      errorMessage: \"Você precisa garantir permissão de acesso à câmera para continuar.\"\n    });\n  }\n\n  const handlePreview = (photoToPreview) => {\n    setPreview({\n      ...preview,\n      showPreview: true,\n      previewUrl: photoToPreview\n    });\n  }\n\n  const toggleShowPreview = () => {\n    setPreview({\n      ...preview,\n      showPreview: !preview.showPreview,\n      previewUrl: \"\"\n    });\n  }\n \n  return (\n    <div className=\"app\">\n      {photos.length > 0 && (\n        <div className=\"gallery\">\n          {photos.map((photo, index) => (\n            <img \n              src={photo} \n              alt=\"thumbnail preview\"\n              key={index}\n              onClick={() => handlePreview(photo)}\n            />\n          ))}\n        </div>\n      )}\n      {preview.showPreview && (\n        <div className=\"modalPreview\">\n          <div className=\"previewContainer\">\n            <div className=\"closeButton\" onClick={() => toggleShowPreview()}>\n              <span className=\"closeArrow\" />\n              <span className=\"closeArrow\" />\n            </div>\n\n            <img \n              src={preview.previewUrl}\n              alt=\"thumbnail preview\"\n            />\n          </div>\n        </div>\n      )}\n      <Camera\n        onCameraStart={console.log(\"STATUS::: Camera iniciada\")}\n        // idealResolution={{width: 360, height: 640}}\n        isFullscreen={true}\n        onCameraError={(cameraError) => {handleError(cameraError)}}\n        onTakePhoto={(dataUri) => {handleTakePhoto(dataUri)}}\n        sizeFactor={1}\n        idealFacingMode = {FACING_MODES.ENVIRONMENT}\n        isImageMirror = {false}\n      />\n      {error.hasError && (\n        <div className=\"errorScreen\">\n          <span>{error.errorMessage}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}